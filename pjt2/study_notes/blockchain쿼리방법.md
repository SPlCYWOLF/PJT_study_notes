## 블록체인 쿼리 방법

<hr>

<br>

이번 글에서는 일단 스마트컨트랙트 작성 부분은 제외하고 블록체인 쿼리 방법만 소개하려고 합니다. event로 로그를 찍어서 조회하는 방법도 있지만 저는 view function을 이용했습니다! view function은 그냥 단순 조회용 함수로서, 굳이 사용자가 가스비(일종의 수수료)를 부담하지 않고도 해당 계약의 내용을 쉽게 조회할 수 있게 해줍니당.

들어가기에 앞서, 간단히 생각해보자면... ‘블록’체인이니 어딘가엔 블록이 있겠죠?? 결국 그 블록은 노드(각지의 서버...?라고 생각하시면 될 듯합니다)에서 조회를 해야 하는데 우리는 (당연하게도)노드를 유지하고 있진 않습니다. 따라서 다른 노드에게 이걸 좀 보자! 해야 하는데 그런 조회를 시켜주는 걸 보통 provider라고 부른답니다. 저희가 쓰게 된 `ethers` 라는 라이브러리에서는 다양한 provider를 지원하는데, 저는 여기서 우리가 계약을 작성할 떄는 metamask, 단순 조회만 할 때는 Alchemy를 사용하였습니다. metamask가 없어도 펀딩 정보 정도는 볼 수 있어야 할 테니까요...?! 이미 말씀드렸듯이 스마트컨트랙트 작성이나 펀딩 함수는 제외하고 단순 조회, 즉 getter 함수만 다룰 겁니다!

```tsx
const provider = new ethers.providers.AlchemyProvider("maticmum", 
"API_KEY")
```

provider 객체를 생성하는 코드는 이렇습니다. Alchemy를 사용하되 “maticmum”, 즉 뭄바이 테스트넷을 이용한다는 뜻이고 두 번째 인자는 제 API 키입니다.